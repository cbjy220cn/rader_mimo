
╔════════════════════════════════════════════════════════════════╗
║      综合运动阵列 DOA 性能测试 v2.2 (2D版本)                ║
╚════════════════════════════════════════════════════════════════╝

输出目录: validation_results\comprehensive_motion_array_test_20251209_162748

【雷达系统参数】
  载频: 3.00 GHz (λ = 9.99 cm)
  带宽: 50 MHz, 距离分辨率: 3.0 m
  Chirp周期: 10 ms
  采样率: 100 MHz (避免混叠需 > 0.1 MHz)

【阵列参数】
  阵元间距: 5.00 cm (0.50λ)

【实验参数】
  目标: φ=30°, θ=75°, R=500m
  观测时间: 0.5s, 快拍数: 64
  运动: v=5m/s, 旋转90°
  SNR范围: [-15, 20]dB, 试验次数: 30

【搜索配置】
  搜索模式: 2D DOA
  搜索范围: θ ∈ [60°, 90°], φ ∈ [0°, 90°]
  智能搜索: 启用 (四层搜索)
    - 第1层: 2.0° (粗定位)
    - 第2层: 0.5° (±5.0°范围)
    - 第3层: 0.1° (±2.0°范围)
    - 第4层: 0.01° (±0.5°范围) ← 最终精度
  估计方法: 合成阵列用波束形成, 静态阵列用MUSIC

【阵列形状定义】
  1. ULA-8: 8元均匀线阵 (8阵元)
  2. URA-3x3: 3×3均匀矩形阵 (9阵元)
  3. URA-4x2: 4×2均匀矩形阵 (8阵元)
  4. L阵列: L形阵列(4+4-1) (7阵元)
  5. T阵列: T形阵列(5+5-1) (9阵元)
  6. 圆阵-8: 8元圆形阵列 (8阵元)
  7. 十字阵列: 十字形阵列 (9阵元)
  8. Y阵列: Y形阵列(3臂) (10阵元)

【运动模式定义】
  1. 静态
  2. x平移
  3. y平移
  4. 旋转
  5. 平移+旋转

═══════════════════════════════════════════════════════════════════
开始实验 (8阵列 × 5运动 × 8SNR × 30试验)
═══════════════════════════════════════════════════════════════════

[1/40] ULA-8 + 静态: 孔径=1.8λ, 主瓣=1.0° [1D]
[2/40] ULA-8 + x平移: 孔径=26.8λ, 主瓣=4.0° [1D]
[3/40] ULA-8 + y平移: 孔径=25.1λ, 主瓣=2.0° [2D]
[4/40] ULA-8 + 旋转: 孔径=2.5λ, 主瓣=18.0° [2D]
[5/40] ULA-8 + 平移+旋转: 孔径=25.1λ, 主瓣=2.0° [2D]
[6/40] URA-3x3 + 静态: 孔径=0.7λ, 主瓣=1.0° [2D]
[7/40] URA-3x3 + x平移: 孔径=25.5λ, 主瓣=3.0° [2D]
[8/40] URA-3x3 + y平移: 孔径=25.5λ, 主瓣=2.0° [2D]
[9/40] URA-3x3 + 旋转: 孔径=1.2λ, 主瓣=35.0° [2D]
[10/40] URA-3x3 + 平移+旋转: 孔径=25.5λ, 主瓣=2.0° [2D]
[11/40] URA-4x2 + 静态: 孔径=0.8λ, 主瓣=1.0° [1D]
[12/40] URA-4x2 + x平移: 孔径=25.8λ, 主瓣=2.5° [1D]
[13/40] URA-4x2 + y平移: 孔径=25.3λ, 主瓣=2.0° [2D]
[14/40] URA-4x2 + 旋转: 孔径=1.3λ, 主瓣=35.0° [2D]
[15/40] URA-4x2 + 平移+旋转: 孔径=25.3λ, 主瓣=2.0° [2D]
[16/40] L阵列 + 静态: 孔径=1.1λ, 主瓣=1.0° [2D]
[17/40] L阵列 + x平移: 孔径=25.8λ, 主瓣=2.5° [2D]
[18/40] L阵列 + y平移: 孔径=25.8λ, 主瓣=2.0° [2D]
[19/40] L阵列 + 旋转: 孔径=1.7λ, 主瓣=29.5° [2D]
[20/40] L阵列 + 平移+旋转: 孔径=25.8λ, 主瓣=2.0° [2D]
[21/40] T阵列 + 静态: 孔径=1.4λ, 主瓣=1.0° [2D]
[22/40] T阵列 + x平移: 孔径=26.0λ, 主瓣=3.0° [2D]
[23/40] T阵列 + y平移: 孔径=26.0λ, 主瓣=2.0° [2D]
[24/40] T阵列 + 旋转: 孔径=2.3λ, 主瓣=20.5° [2D]
[25/40] T阵列 + 平移+旋转: 孔径=26.1λ, 主瓣=2.0° [2D]
[26/40] 圆阵-8 + 静态: 孔径=1.4λ, 主瓣=1.0° [2D]
[27/40] 圆阵-8 + x平移: 孔径=26.0λ, 主瓣=2.5° [2D]
[28/40] 圆阵-8 + y平移: 孔径=26.0λ, 主瓣=2.0° [2D]
[29/40] 圆阵-8 + 旋转: 孔径=2.1λ, 主瓣=19.0° [2D]
[30/40] 圆阵-8 + 平移+旋转: 孔径=26.6λ, 主瓣=2.0° [2D]
[31/40] 十字阵列 + 静态: 孔径=1.4λ, 主瓣=1.0° [2D]
[32/40] 十字阵列 + x平移: 孔径=26.0λ, 主瓣=2.5° [2D]
[33/40] 十字阵列 + y平移: {操作在以下过程中被用户终止 <a href="matlab:matlab.lang.internal.introspective.errorDocCallback('DoaEstimatorSynthetic/beamforming_2d', 'E:\code\matlab\rader_mimo\scripts\asset\DoaEstimatorSynthetic.m', 491)" style="font-weight:bold">DoaEstimatorSynthetic/beamforming_2d</a> (<a href="matlab: opentoline('E:\code\matlab\rader_mimo\scripts\asset\DoaEstimatorSynthetic.m',491,0)">第 491 行</a>)


位置 <a href="matlab:matlab.lang.internal.introspective.errorDocCallback('DoaEstimatorSynthetic/estimate', 'E:\code\matlab\rader_mimo\scripts\asset\DoaEstimatorSynthetic.m', 168)" style="font-weight:bold">DoaEstimatorSynthetic/estimate</a> (<a href="matlab: opentoline('E:\code\matlab\rader_mimo\scripts\asset\DoaEstimatorSynthetic.m',168,0)">第 168 行</a>)
                    [spectrum, ~] = obj.beamforming_2d(virtual_positions, virtual_signals, search_grid);
                                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
位置 <a href="matlab:matlab.lang.internal.introspective.errorDocCallback('comprehensive_motion_array_test>smart_search_2d_synthetic', 'E:\code\matlab\rader_mimo\scripts\comprehensive_motion_array_test.m', 990)" style="font-weight:bold">comprehensive_motion_array_test>smart_search_2d_synthetic</a> (<a href="matlab: opentoline('E:\code\matlab\rader_mimo\scripts\comprehensive_motion_array_test.m',990,0)">第 990 行</a>)
    [~, peaks_ultra, ~] = estimator.estimate(snapshots, t_axis, grid_ultra, num_targets, est_options);
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
位置 <a href="matlab:matlab.lang.internal.introspective.errorDocCallback('comprehensive_motion_array_test', 'E:\code\matlab\rader_mimo\scripts\comprehensive_motion_array_test.m', 435)" style="font-weight:bold">comprehensive_motion_array_test</a> (<a href="matlab: opentoline('E:\code\matlab\rader_mimo\scripts\comprehensive_motion_array_test.m',435,0)">第 435 行</a>)
                            [est_theta, est_phi] = smart_search_2d_synthetic(estimator, snapshots, t_axis, smart_2d, 1, est_options);
                                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
} 
quick_test_synthetic_aperture
═══════════════════════════════════════════════════════════════════
              合成孔径快速验证测试                                
═══════════════════════════════════════════════════════════════════

【参数】
  波长: 9.99 cm
  观测时间: 0.5 s, 快拍数: 64
  平移速度: 5.0 m/s → 平移距离: 2.50 m
  目标: φ=30°, SNR=20dB

【阵列】
  阵元数: 4
  静态孔径: 14.99 cm (1.5 λ)
  合成孔径: 250.00 cm (25.0 λ)

【测试1: 静态阵列】
  估计角度: 30.00° (真值: 30°, 误差: 0.00°)
  主瓣宽度: 0.5°

【测试2: 运动阵列 (y平移)】
  虚拟阵元数: 256
  合成孔径: 25.0 λ
  估计角度: 30.00° (真值: 30°, 误差: 0.00°)
  主瓣宽度: 1.2°

═══════════════════════════════════════════════════════════════════
                        结果对比                                   
═══════════════════════════════════════════════════════════════════
              | 静态阵列 | 运动阵列 | 改善  
  ------------|----------|----------|--------
  孔径        | 1.5 λ   | 25.0 λ   | 16.7x
  主瓣宽度    | 0.5°    | 1.2°    | 0.4x
  估计误差    | 0.00°    | 0.00°    | -

═══════════════════════════════════════════════════════════════════
❌ 测试失败！主瓣宽度未显著改善
   静态: 0.5°, 运动: 1.2°
   请检查代码！
═══════════════════════════════════════════════════════════════════

图已生成，请查看主瓣对比！
quick_test_synthetic_aperture
═══════════════════════════════════════════════════════════════════
              合成孔径MUSIC快速验证测试                           
═══════════════════════════════════════════════════════════════════

【参数】
  波长: 9.99 cm
  观测时间: 0.5 s, 快拍数: 64
  平移速度: 5.0 m/s → 平移距离: 2.50 m
  目标: φ=30°, SNR=20dB

【阵列】
  阵元数: 4
  静态孔径: 14.99 cm (1.5 λ)
  合成孔径: 250.00 cm (25.0 λ)

【测试1: 静态阵列 MUSIC】
  估计角度: 30.00° (真值: 30°, 误差: 0.00°)
  主瓣宽度: 0.50°

【测试2: 运动阵列 时间平滑MUSIC】
  虚拟阵元数: 256
  合成孔径: 25.0 λ
  估计角度: 30.00° (真值: 30°, 误差: 0.00°)
  主瓣宽度: 0.20°

═══════════════════════════════════════════════════════════════════
                        结果对比                                   
═══════════════════════════════════════════════════════════════════
              | 静态MUSIC | 运动MUSIC | 改善  
  ------------|-----------|-----------|--------
  孔径        | 1.5 λ    | 25.0 λ    | 16.7x
  主瓣宽度    | 0.50°     | 0.20°     | 2.5x
  估计误差    | 0.00°     | 0.00°     | -

═══════════════════════════════════════════════════════════════════
✅ 测试通过！运动阵列MUSIC主瓣更窄 (0.50° → 0.20°)
   时间平滑MUSIC有效！合成孔径发挥作用！
═══════════════════════════════════════════════════════════════════

图已生成，请查看主瓣对比！
quick_test_full_validation
═══════════════════════════════════════════════════════════════════
              合成孔径MUSIC完整验证                               
═══════════════════════════════════════════════════════════════════

【测试1: 低SNR性能】
  SNR(dB) |  静态RMSE |  运动RMSE | 改善
  --------|-----------|-----------|------
   -10    |   11.09°  |    0.12°  | 90.6x
    -5    |    3.85°  |    0.09°  | 44.5x
     0    |    1.94°  |    0.04°  | 43.3x
     5    |    0.85°  |    0.00°  | 84.8x
    10    |    0.42°  |    0.00°  | 42.3x
    15    |    0.21°  |    0.00°  | 21.3x
    20    |    0.14°  |    0.00°  | 14.3x

【测试2: 双目标分辨能力】
  间隔 | 静态能分辨? | 运动能分辨?
  -----|-------------|-------------
   1°  |     ❌      |     ✅
   2°  |     ❌      |     ✅
   3°  |     ❌      |     ✅
   5°  |     ❌      |     ✅

═══════════════════════════════════════════════════════════════════
✅ 验证完成！时间平滑MUSIC在低SNR和双目标分辨上都有优势！
═══════════════════════════════════════════════════════════════════
comprehensive_motion_array_test
